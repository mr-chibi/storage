#
execute store result score @s storage_ids run data get entity @s UUID[0]

# Created Shop Message:
tellraw @s [{"text": "Succesfully Created Storage!", "color": "green"}]

# WEST
execute as @s[y_rotation=-135..-45] run setblock ~ ~ ~ minecraft:chest[facing=west]{CustomName:"{\"text\": \"Mr_Chibi's Chest Storage GUI\"}"}
execute as @s[y_rotation=-135..-45] run summon villager ~ ~1 ~ {VillagerData:{profession:librarian,level:5},Offers:{Recipes:[]}, HandItems:[{id:"minecraft:redstone", Count:1b, tag:{page_1:[{id:"minecraft:rose_bush", Count:1b, tag:{agriculture:1b, display:{Name:"{\"text\": \"Agriculture\"}"}}}, {id:"minecraft:oak_log", Count:1b, tag:{wood:1b, display:{Name:"{\"text\": \"Wood/Planks\"}"}}}, {id:"minecraft:redstone", Count:1b, tag:{logic:1b, display:{Name:"{\"text\": \"Logic / Machines\"}"}}}, {id:"minecraft:white_wool", Count:1b, tag:{wool:1b, display:{Name:"{\"text\": \"Wool\"}"}}}, {id:"minecraft:white_concrete", Count:1b, tag:{concrete:1b, display:{Name:"{\"text\": \"Concrete\"}"}}}, {id:"minecraft:white_terracotta", Count:1b, tag:{terracotta:1b, display:{Name:"{\"text\": \"Terracotta\"}"}}}, {id:"minecraft:glass", Count:1b, tag:{glass:1b, display:{Name:"{\"text\": \"Glass\"}"}}}, {id:"minecraft:stone", Count:1b, tag:{stone:1b, display:{Name:"{\"text\": \"Stones\"}"}}}, {id:"minecraft:granite", Count:1b, tag:{stone_assorted:1b, display:{Name:"{\"text\": \"Assorted Stones\"}"}}}], page_2:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_3:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_4:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_5:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_6:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_7:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_8:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_9:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_10:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], extra:[{id:"gray_stained_glass_pane", Count:1b, tag:{barrier:1b}}]}}], Rotation:[90f], Tags:["player_storage", "page_1"], NoAI:1b, CustomNameVisible:1b, CustomName:"{\"text\": \"Custom Storage\"}", Invulnerable:1, PersistenceRequired:1}
execute as @s[y_rotation=-135..-45] run tp @s ~-1 ~ ~

# SOUTH
execute as @s[y_rotation=135..-135] run setblock ~ ~ ~ minecraft:chest[facing=south]{CustomName:"{\"text\": \"Mr_Chibi's Chest Storage GUI\"}"}
execute as @s[y_rotation=135..-135] run summon villager ~ ~1 ~ {VillagerData:{profession:librarian,level:5},Offers:{Recipes:[]}, HandItems:[{id:"minecraft:redstone", Count:1b, tag:{page_1:[{id:"minecraft:rose_bush", Count:1b, tag:{agriculture:1b, display:{Name:"{\"text\": \"Agriculture\"}"}}}, {id:"minecraft:oak_log", Count:1b, tag:{wood:1b, display:{Name:"{\"text\": \"Wood/Planks\"}"}}}, {id:"minecraft:redstone", Count:1b, tag:{logic:1b, display:{Name:"{\"text\": \"Logic / Machines\"}"}}}, {id:"minecraft:white_wool", Count:1b, tag:{wool:1b, display:{Name:"{\"text\": \"Wool\"}"}}}, {id:"minecraft:white_concrete", Count:1b, tag:{concrete:1b, display:{Name:"{\"text\": \"Concrete\"}"}}}, {id:"minecraft:white_terracotta", Count:1b, tag:{terracotta:1b, display:{Name:"{\"text\": \"Terracotta\"}"}}}, {id:"minecraft:glass", Count:1b, tag:{glass:1b, display:{Name:"{\"text\": \"Glass\"}"}}}, {id:"minecraft:stone", Count:1b, tag:{stone:1b, display:{Name:"{\"text\": \"Stones\"}"}}}, {id:"minecraft:granite", Count:1b, tag:{stone_assorted:1b, display:{Name:"{\"text\": \"Assorted Stones\"}"}}}], page_2:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_3:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_4:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_5:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_6:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_7:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_8:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_9:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_10:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], extra:[{id:"gray_stained_glass_pane", Count:1b, tag:{barrier:1b}}]}}], Rotation:[0f], Tags:["player_storage", "page_1"], NoAI:1b, CustomNameVisible:1b, CustomName:"{\"text\": \"Custom Storage\"}", Invulnerable:1, PersistenceRequired:1}
execute as @s[y_rotation=135..-135] run tp @s ~ ~ ~1

# EAST
execute as @s[y_rotation=45..135] run setblock ~ ~ ~ minecraft:chest[facing=east]{CustomName:"{\"text\": \"Mr_Chibi's Chest Storage GUI\"}"}
execute as @s[y_rotation=45..135] run summon villager ~ ~1 ~ {VillagerData:{profession:librarian,level:5},Offers:{Recipes:[]}, HandItems:[{id:"minecraft:redstone", Count:1b, tag:{page_1:[{id:"minecraft:rose_bush", Count:1b, tag:{agriculture:1b, display:{Name:"{\"text\": \"Agriculture\"}"}}}, {id:"minecraft:oak_log", Count:1b, tag:{wood:1b, display:{Name:"{\"text\": \"Wood/Planks\"}"}}}, {id:"minecraft:redstone", Count:1b, tag:{logic:1b, display:{Name:"{\"text\": \"Logic / Machines\"}"}}}, {id:"minecraft:white_wool", Count:1b, tag:{wool:1b, display:{Name:"{\"text\": \"Wool\"}"}}}, {id:"minecraft:white_concrete", Count:1b, tag:{concrete:1b, display:{Name:"{\"text\": \"Concrete\"}"}}}, {id:"minecraft:white_terracotta", Count:1b, tag:{terracotta:1b, display:{Name:"{\"text\": \"Terracotta\"}"}}}, {id:"minecraft:glass", Count:1b, tag:{glass:1b, display:{Name:"{\"text\": \"Glass\"}"}}}, {id:"minecraft:stone", Count:1b, tag:{stone:1b, display:{Name:"{\"text\": \"Stones\"}"}}}, {id:"minecraft:granite", Count:1b, tag:{stone_assorted:1b, display:{Name:"{\"text\": \"Assorted Stones\"}"}}}], page_2:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_3:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_4:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_5:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_6:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_7:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_8:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_9:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_10:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], extra:[{id:"gray_stained_glass_pane", Count:1b, tag:{barrier:1b}}]}}], Rotation:[-90f], Tags:["player_storage", "page_1"], NoAI:1b, CustomNameVisible:1b, CustomName:"{\"text\": \"Custom Storage\"}", Invulnerable:1, PersistenceRequired:1}
execute as @s[y_rotation=45..135] run tp @s ~1 ~ ~

# NORTH
execute as @s[y_rotation=-45..45] run setblock ~ ~ ~ minecraft:chest[facing=north]{CustomName:"{\"text\": \"Mr_Chibi's Chest Storage GUI\"}"}
execute as @s[y_rotation=-45..45] run summon villager ~ ~1 ~ {VillagerData:{profession:librarian,level:5},Offers:{Recipes:[]}, HandItems:[{id:"minecraft:redstone", Count:1b, tag:{page_1:[{id:"minecraft:rose_bush", Count:1b, tag:{agriculture:1b, display:{Name:"{\"text\": \"Agriculture\"}"}}}, {id:"minecraft:oak_log", Count:1b, tag:{wood:1b, display:{Name:"{\"text\": \"Wood/Planks\"}"}}}, {id:"minecraft:redstone", Count:1b, tag:{logic:1b, display:{Name:"{\"text\": \"Logic / Machines\"}"}}}, {id:"minecraft:white_wool", Count:1b, tag:{wool:1b, display:{Name:"{\"text\": \"Wool\"}"}}}, {id:"minecraft:white_concrete", Count:1b, tag:{concrete:1b, display:{Name:"{\"text\": \"Concrete\"}"}}}, {id:"minecraft:white_terracotta", Count:1b, tag:{terracotta:1b, display:{Name:"{\"text\": \"Terracotta\"}"}}}, {id:"minecraft:glass", Count:1b, tag:{glass:1b, display:{Name:"{\"text\": \"Glass\"}"}}}, {id:"minecraft:stone", Count:1b, tag:{stone:1b, display:{Name:"{\"text\": \"Stones\"}"}}}, {id:"minecraft:granite", Count:1b, tag:{stone_assorted:1b, display:{Name:"{\"text\": \"Assorted Stones\"}"}}}], page_2:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_3:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_4:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_5:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_6:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_7:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_8:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_9:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], page_10:[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {id:"minecraft:arrow", Count:1b, tag:{prev:1b, display:{Name:"{\"text\": \"Prev\"}"}}}], extra:[{id:"gray_stained_glass_pane", Count:1b, tag:{barrier:1b}}]}}], Rotation:[180f], Tags:["player_storage", "page_1"], NoAI:1b, CustomNameVisible:1b, CustomName:"{\"text\": \"Custom Storage\"}", Invulnerable:1, PersistenceRequired:1}
execute as @s[y_rotation=-45..45] run tp @s ~ ~ ~-1


#
execute as @e[type=minecraft:villager,tag=player_storage] at @s run scoreboard players operation @s storage_ids = @p[distance=0..5] storage_ids

# Row #1:
execute as @e[type=minecraft:villager,tag=player_storage] at @s run data modify block ~ ~-1 ~ Items[{Slot:3b}] merge from entity @s HandItems[0].tag.page_1[0]
execute as @e[type=minecraft:villager,tag=player_storage] at @s run data modify block ~ ~-1 ~ Items[{Slot:4b}] merge from entity @s HandItems[0].tag.page_1[1]
execute as @e[type=minecraft:villager,tag=player_storage] at @s run data modify block ~ ~-1 ~ Items[{Slot:5b}] merge from entity @s HandItems[0].tag.page_1[2]

# Row #2:
execute as @e[type=minecraft:villager,tag=player_storage] at @s run data modify block ~ ~-1 ~ Items[{Slot:12b}] merge from entity @s HandItems[0].tag.page_1[3]
execute as @e[type=minecraft:villager,tag=player_storage] at @s run data modify block ~ ~-1 ~ Items[{Slot:13b}] merge from entity @s HandItems[0].tag.page_1[4]
execute as @e[type=minecraft:villager,tag=player_storage] at @s run data modify block ~ ~-1 ~ Items[{Slot:14b}] merge from entity @s HandItems[0].tag.page_1[5]

# Row #3:
execute as @e[type=minecraft:villager,tag=player_storage] at @s run data modify block ~ ~-1 ~ Items[{Slot:21b}] merge from entity @s HandItems[0].tag.page_1[6]
execute as @e[type=minecraft:villager,tag=player_storage] at @s run data modify block ~ ~-1 ~ Items[{Slot:22b}] merge from entity @s HandItems[0].tag.page_1[7]
execute as @e[type=minecraft:villager,tag=player_storage] at @s run data modify block ~ ~-1 ~ Items[{Slot:23b}] merge from entity @s HandItems[0].tag.page_1[8]



#
scoreboard players set @s[scores={create_storage=1..}] create_storage 0